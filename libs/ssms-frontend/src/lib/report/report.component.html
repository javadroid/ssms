
    <!-- MAKE REPORT BEGINS HERE -->
    <div class="report ">
      <!-- REPORT TYPE SELECTION =========== REPORT TYPE SELECTION -->
      <div  *ngIf="step==='TYPE'" class="steps_container">
        <div class="top_greeting">
          <h1 class="welcome">Select Report Type and Category</h1>
          <p class="info">Please Select Report Type</p>
        </div>

        <div class="report_type-container">
          <button [ngClass]="{'select':pickone==='Emergency'}" (click)="reporttype('Emergency')" class="card_type ">
            <img src="assets/572-5724817_flat-warning-icon-png-transparent-png.png" alt="" />
            <p class="title">Emergency</p>
          </button>
          <button [ngClass]="{'select':pickone==='Crime'}"  (click)="reporttype('Crime')"class="card_type">
            <img src="assets/572-5724817_flat-warning-icon-png-transparent-png.png" alt="" />
            <p class="title">Crime</p>
          </button>
        </div>

        <!-- report category -->
        <div class="report_type-container">
          <p class="sec_title">Please Select the Category of This Report</p>
          <button [ngClass]="{'select':reportType.includes(item)}" (click)="addreportCategories(item)" *ngFor="let item of reportCategories" class="card_type">
            <img src="assets/images.jpg" alt="" />
            <p class="title">{{item}}</p>
          </button>

        </div>

        <div class="button_holder">
          <button (click)="step='LOCATION';getLocation()" class="btn btn-primary">Next</button>
          <button routerLink="../index" class="btn btn-secondary">Cancel</button>
        </div>
      </div>

      <!-- lOCATION OF INCIDENT==============LOCATION OF INCIDENT -->
      <div *ngIf="step==='LOCATION'" class="steps_container ">
        <div class="top_greeting">
          <h1 class="welcome">Location of Incident</h1>
          <p class="info">Please Specify the Location of Selected Incident</p>
        </div>

        <div class="location_selection">
          <div class="input_container mb-3">
            <label for="" class="d-block">Address of incident</label>
            <input [formControl]="reportForm.controls.location" type="text" class="form-control" placeholder="Address of incident" />
          </div>

          <div
            class="selection-container d-flex align-items-center justify-content-between"
          >

          <div class="input_container mb-3">
            <label for="" class="d-block">Country</label>
            <select (change)="onCountryChange($event.target)" name="" id="" class="form-control">
              <option value="NG">Nigeria</option>
              <option
                *ngFor="let item of countryDetails"
                [value]="[item.isoCode, item.name]"
              >
                {{ item.name }}
              </option>
            </select>
          </div>
            <div class="input_container mb-3">
              <label for="" class="d-block">State</label>
              <select
                name=""
                id=""
                class="form-control"
                #state
                (change)="onStateChange($event.target)"


              >
                <option>Select State</option>
                <option
                  *ngFor="let state of stateDetails"
                  [value]="[state.name,state.isoCode]"
                >
                  {{ state.name }}
                </option>
              </select>
            </div>
            <div class="input_container mb-3">
              <label for="" class="d-block">L.G.A </label>
              <select
                name=""
                id=""
                (change)="getBranch()"
                [formControl]="reportForm.controls.lga"
                class="form-control selected"
              >
                <option *ngFor="let lga of lgaDetails" [value]="lga">
                  {{ lga }}
                </option>
              </select>
            </div>


          </div>

          <div class="input_container mb-3">
            <label for="" class="d-block">{{getlocated}}</label>
           <button [disabled]="getlocated==='Location Capturedâœ…'" (click)="getLocation()" class="btn btn-secondary"> Get Location</button>


          </div>

          <div *ngIf="this.personnel.length>0" class="agency_list">
            <p class="info text-primary">
              There are {{this.personnel.length}} agencies around the location of this incident which of them do you want to send this report?
            </p>

            <div class="agencies">
              <button [ngClass]="{'isselectBranch':isselectBranch===item._id}" (click)="selectBranch(item)" *ngFor="let item of this.personnel" class="btn agency">{{item.branch}} - {{item.organization.organizationName}} - {{item.officialphone}}</button>

            </div>
          </div>
        </div>

        <div class="button_holder">
          <button (click)="step='DETAIL'"  class="btn btn-primary">Next</button>
          <button (click)="step='TYPE'"  class="btn btn-secondary">Previous</button>
          <button routerLink="../index" class="btn btn-secondary">Cancel</button>
        </div>
      </div>

      <!-- INCIDENT DETAIL = =============INCIDENT DETAIL -->
      <div *ngIf="step==='DETAIL'" class="steps_container  ">
        <div class="top_greeting">
          <h1 class="welcome">Incident Detail</h1>
          <p class="info">Please Enter Details of this Incident in the Form Below</p>
        </div>

        <div class="detail_container">
          <div class="input_container mb-3">
            <label for="" class="d-block">Title</label>
            <input [formControl]="reportForm.controls.title" type="text" class="form-control" placeholder="Title: example Fire Outbreak" />
          </div>
          <div class="input_container mb-3">
            <label for="" class="d-block">Detail of Incident</label>
            <textarea [formControl]="reportForm.controls.details" name="" id="" cols="30" rows="10"></textarea>
          </div>
          <div class="input_container mb-3">
            <label for="" class="d-block">Email </label>
            <input [formControl]="reportForm.controls.email" type="email" class="form-control" placeholder="Optional" />
          </div>
          <div class="input_container mb-3">
            <label for="" class="d-block">Phone Number</label>
            <input [formControl]="reportForm.controls.phone" type="tel" class="form-control" placeholder="Optional" />
          </div>
          <div class="input_container mb-3">
            <label for="" class="d-block">Upload File(s) Related to Incident</label>
            <input
            multiple
            (formdata)="(fileData)"
            type="file"
            class="form-control"
            (change)="selectFiles($event)"
          />
          <div
        *ngIf="message.length"
        class="alert alert-secondary my-3"
        role="alert"
      >
        <ul *ngFor="let msg of message; let i = index">
          <li>{{ msg }}</li>
        </ul>
      </div>
          </div>
        </div>

        <div class="button_holder">
          <button  (click)="onSubmit()" class="btn btn-primary">Submit</button>
          <button (click)="step='LOCATION'"class="btn btn-secondary">Previous</button>
          <button routerLink="../index" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>
